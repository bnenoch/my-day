<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚˜ì˜ í•˜ë£¨</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>ë‚˜ì˜ í•˜ë£¨ <span id="dateWeather" class="small-text"></span></h1>
        <div class="input-section">
            <select id="ampmInput">
                <option value="AM">ì˜¤ì „</option>
                <option value="PM">ì˜¤í›„</option>
            </select>
            <input type="number" id="hourInput" min="1" max="12" value="1">
            <input type="number" id="minuteInput" min="0" max="59" value="0">
            <input type="text" id="taskInput" placeholder="í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”">
            <button id="addButton">ì¶”ê°€</button>
        </div>
        <ul id="taskList"></ul>
    </div>
    <div style="margin-top: 50px; padding: 20px; text-align: center;">
      <h3>ğŸ“š ìµœì‹  ì¸ê¸°ìˆëŠ” ìƒí’ˆ ë¦¬ë·° ë³´ëŸ¬ ê°€ê¸°</h3>
      <a href="https://blog.naver.com/magicpam" target="_blank">
        <button style="padding: 10px 20px; background-color: #28a745; color: white; border: none; border-radius: 6px; cursor: pointer;">
      ë¸”ë¡œê·¸ì—ì„œ ìµœì‹  ê¸€ ë³´ê¸° â†’
        </button>
      </a>
    </div>
    <!-- ğŸ‘‰ ìë™ìœ¼ë¡œ ë¸”ë¡œê·¸ ì¹´ë“œ í‘œì‹œë˜ëŠ” ì˜ì—­ -->
    <div id="blogCards" style="margin-top: 30px;"></div>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
      async function loadBlogCards() {
        const sheetId = '1KuE6SJIhC_sulrdS-kOMDNaSN3k57fAVfEUVSTsIB4Y';
        const url = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:json`;

        try {
          const response = await axios.get(url);
          const data = JSON.parse(response.data.substring(47).slice(0, -2));
          const rows = data.table.rows;

          const container = document.getElementById('blogCards');
          container.innerHTML = '<h3 style="text-align:center;">ğŸ“ ìë™ ìµœì‹  ë¦¬ë·°</h3><div class="card-list"></div>';
          const cardList = container.querySelector('.card-list');

          rows.forEach(row => {
            const title = row.c[0]?.v || '';
            const link = row.c[1]?.v || '';
            const image = row.c[2]?.v || '';
            const desc = row.c[3]?.v || '';

            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
              <img src="${image}" alt="${title}" class="card-img">
              <h4 class="card-title">${title}</h4>
              <p class="card-desc">${desc}</p>
              <a href="${link}" target="_blank" class="card-button">ë¦¬ë·° ë³´ëŸ¬ê°€ê¸° â†’</a>
            `;
            cardList.appendChild(card);
          });
        } catch (err) {
          document.getElementById('blogCards').innerHTML = '<p style="color:red; text-align:center;">ë¸”ë¡œê·¸ ë¦¬ë·°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.</p>';
          console.error(err);
        }
      }

      loadBlogCards();
    </script>
    <script src="script.js"></script>    
</body>
</html>
